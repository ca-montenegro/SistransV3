CREATE TABLE CATEGORIA 
( 
ID_CAT NUMBER, 
NOMBRE VARCHAR (255 BYTE) NOT NULL, 
CONSTRAINTS ID_CAT_PK PRIMARY KEY (ID_CAT)); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('1','Drama'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('2','Teatro'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('3','Mudo'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('4','Títeres'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('5','Comparsas'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('6','Ópera'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('7','Zarzuela'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('8','Musical'); 
Insert into CATEGORIA (ID_CAT,NOMBRE) values ('9','Circo'); 
 
CREATE TABLE ROL( 
ID_ROL NUMBER,  
NOMBRE_ROL VARCHAR(255 BYTE) NOT NULL, 
CONSTRAINT ID_ROL_PK PRIMARY KEY (ID_ROL) 
CONSTRAINT ID_ROL CHECK (ID_ROL BETWEEN 0 AND 5); 
 
 
CREATE TABLE USUARIO ( 
ID_USER NUMBER, 
NOMBRE_USER VARCHAR(255 BYTE) NOT NULL, 
CORREO_USER VARCHAR(255 BYTE) NOT NULL, 
ROL_USER NUMBER NOT NULL,  
CONSTRAINT ID_USER_PK PRIMARY KEY (ID_USER), 
CONSTRAINT FK_ID_ROL_USER FOREIGN KEY (ROL_USER) REFERENCES ROL(ID_ROL), 
CONSTRAINT ROL_USER CHECK(ROL_USER BETWEEN 0 AND 5) 
); 
CREATE TABLE FESTIVAL( 
ID_FESTIVAL NUMBER, 
FECHA_INICIAL_FESTIVAL VARCHAR(255 BYTE) NOT NULL, 
FECHA_FIN_FESTIVAL VARCHAR(255 BYTE) NOT NULL, 
ID_ADMINISTRADOR_FESTIVAL NUMBER NOT NULL,  
CONSTRAINTS ID_FESTIVAL_PK PRIMARY KEY (ID_FESTIVAL), 
CONSTRAINT FK_ID_ADMINISTRADOR_FESTIVAL FOREIGN KEY (ID_ADMINISTRADOR_FESTIVAL) REFERENCES USUARIO(ID_USER), 
CONSTRAINT FECHA_INICIAL_FESTIVAL CHECK(FECHA_INICIAL_FESTIVAL < FECHA_FIN_FESTIVAL) 
); 
CREATE TABLE COMPANIA( 
ID_COMPA NUMBER,  
NOMBRE_COMPA VARCHAR(255 BYTE) NOT NULL, 
REPRESEN_COMPA VARCHAR(255 BYTE) NOT NULL,  
PAIS_ORIGEN_COMPA VARCHAR(255 BYTE) NOT NULL, 
PAG_WEB_COMPA VARCHAR(255 BYTE),  
FECHA_LLEGADA_COMPA VARCHAR(255 BYTE) NOT NULL,  
FECHA_SALIDA_COMPA VARCHAR(255 BYTE) NOT NULL,  
ID_FESTIVAL NUMBER NOT NULL, 
ID_ORGANI NUMBER NOT NULL, 
CONSTRAINT ID_COMPA_PK PRIMARY KEY (ID_COMPA), 
CONSTRAINT FK_ID_FESTIVAL FOREIGN KEY(ID_FESTIVAL) REFERENCES FESTIVAL(ID_FESTIVAL), 
CONSTRAINT FECHA_LLEGADA_COMPA CHECK ( FECHA_LLEGADA_COMPA < FECHA_SALIDA_COMPA), 
CONSTRAINT FECHA_SALIDA_COMPA CHECK ( FECHA_SALIDA_COMPA > FECHA_LLEGADA_COMPA), 
CONSTRAINT FK_ID_ORGANI FOREIGN KEY (ID_ORGANI) REFERENCES USUARIO(ID_USER) 
); 
CREATE TABLE ESPECTACULO( 
ID_ESPEC NUMBER, 
NOMBRE VARCHAR(255 BYTE) NOT NULL, 
DURACION NUMBER NOT NULL,  
IDIOMA VARCHAR(255 BYTE) NOT NULL, 
COSTO NUMBER NOT NULL,  
DESCRIPCION VARCHAR(255 BYTE) NOT NULL, 
SERVICIO_TRADU CHAR(1) NOT NULL, 
PARTICIPACION CHAR(1) NOT NULL,  
PUBLICO_OBJETIVO VARCHAR (255 BYTE) NOT NULL,  
ID_COMPANIA NUMBER NOT NULL,  
ID_OPERARIO NUMBER NOT NULL, 
CONSTRAINTS ID_ESPEC_PK PRIMARY KEY (ID_ESPEC),                                              CONSTRAINTS COSTO CHECK (COSTO>0),                                                                     CONSTRAINTS DURACION CHECK (DURACION>0), 
CONSTRAINTS FK_ID_COMPANIA FOREIGN KEY (ID_COMPANIA) REFERENCES COMPANIA(ID_COMPA), 
CONSTRAINTS FK_ID_OPERARIO FOREIGN KEY (ID_OPERARIO) REFERENCES USUARIO(ID_USER) 
); 
 
CREATE TABLE LOCALIDAD( 
ID_LOCALIDAD NUMBER,  
NOMBRE VARCHAR(255 BYTE) NOT NULL, 
CAPACIDAD NUMBER NOT NULL,                                                                                        ID_SITIO NUMBER NOT NULL,                                                                                             PRECIO NUMBER NOT NULL,                                                                                               SILLA_NUMERADA CHAR(1) NOT NULL,                                            
CONSTRAINTS ID_LOCALIDAD_PK PRIMARY KEY (ID_LOCALIDAD), 
CONSTRAINTS CAPACIDAD CHECK (CAPACIDAD>1)                                                      CONSTRAINTS FK_ID_SITIO_LOC FOREIGN KEY (ID_SITIO) REFERENCES SITIO(ID_SITIO),                                                                                                                    CONSTRAINTS PRECIO CHECK(PRECIO>0) 
); 
 
 
CREATE TABLE SILLAS 
( 
ID_SILLA NUMBER,  
NUMERO NUMBER NOT NULL, 
ID_LOCALIDAD NUMBER NOT NULL, 
CONSTRAINTS ID_SILLA_PK PRIMARY KEY (ID_SILLA), 
CONSTRAINTS FK_ID_LOCALIDAD FOREIGN KEY (ID_LOCALIDAD) REFERENCES LOCALIDAD(ID_LOCALIDAD) 
); 
CREATE TABLE SITIO 
( 
ID_SITIO NUMBER, 
TIPO CHAR(1) NOT NULL,  
CAPACIDAD NUMBER NOT NULL, 
HORARIO_DISPONIBILIDAD VARCHAR (255 BYTE) NOT NULL, 
PROTECCION_ATMOSFERICA CHAR(1) NOT NULL,  
CONSTRAINTS ID_SITIO_PK PRIMARY KEY(ID_SITIO), 
CONSTRAINTS CAPACIDAD_CT CHECK (CAPACIDAD >1) 
); 
 
CREATE TABLE PREFERENCIA( 
ID_PREFERENCIA NUMBER,  
TIPO_PREFERENCIA VARCHAR (255 BYTE), 
DESCRIPCION VARCHAR (255 BYTE),  
CONSTRAINTS ID_PREFERENCIA_PK PRIMARY KEY (ID_PREFERENCIA) 
); 
 
CREATE TABLE CLIENTE_PREFERENCIA( 
ID_PREFERENCIA NUMBER, 
ID_CLIENTE NUMBER,  
CONSTRAINTS ID_PREFERENCIA_CLIENTE_PK PRIMARY KEY (ID_PREFERENCIA, ID_CLIENTE)                                                                                                                      CONSTRAINTS FK_ID_PREFERENCIA_CLIEN FOREIGN KEY (ID_PREFERENCIA) REFERENCES PREFERENCIA(ID_PREFERENCIA)                                                           CONSTRAINTS FK_ID_CLIENTE_PREF FOREIGN KEY (ID_CLIENTE) REFERENCES USUARIO(ID_USER) ); 
                                                                                                                                                                                                                                                                                                
CREATE TABLE FUNCION( 
ID_FUNCION NUMBER, 
FECHA VARCHAR(255 BYTE) NOT NULL,  
ID_SITIO NUMBER NOT NULL,  
ID_ESPECTACULO NUMBER NOT NULL,  
HORA NUMBER NOT NULL,  
CONSTRAINTS ID_FUNCION_PK PRIMARY KEY (ID_FUNCION), 
CONSTRAINTS FK_ID_SITIO_FUN FOREIGN KEY (ID_SITIO) REFERENCES SITIO(ID_SITIO), 
CONSTRAINTS FK_ID_ESPECTACULO_FUN FOREIGN KEY (ID_ESPECTACULO) REFERENCES ESPECTACULO(ID_ESPEC) 
); 
CREATE TABLE BOLETA ( 
ID_BOLETA NUMBER, 
PRECIO NUMBER NOT NULL, 
ID_FUNCION NUMBER NOT NULL, 
ID_SILLA NUMBER NOT NULL,  
ID_CLIENTE NUMBER, 
CONSTRAINTS ID_BOLETA_PK PRIMARY KEY (ID_BOLETA), 
CONSTRAINTS FK_ID_FUNCION_BOL FOREIGN KEY (ID_FUNCION) REFERENCES FUNCION (ID_FUNCION), 
CONSTRAINTS FK_ID_SILLA_BOL FOREIGN KEY (ID_SILLA) REFERENCES SILLAS(ID_SILLA), 
CONSTRAINTS FK_ID_CLIENTE_BOL FOREIGN KEY (ID_CLIENTE) REFERENCES USUARIO(ID_USER) 
); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('1','1','1','2'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('2','2','3','2'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('3','1','2','8'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('4','3','20','9'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('5','4','5','10'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('6','2','8',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('7','1','3','2'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('9','1','5',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('8','1','8',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('10','28','8','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('22','20','27','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('23','20','28','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('26','20','31','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('27','20','32','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('31','20','36','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('32','20','37','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('33','20','38','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('34','20','4','2'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('29','20','34','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('35','20','6',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('36','20','7',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('11','24','3','8'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('12','25','20',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('13','27','5',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('14','3','3','2'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('15','4','2',null); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('18','20','23','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('19','20','24','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('20','20','25','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('21','20','26','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('24','20','29','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('25','20','30','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('28','20','33','1'); 
Insert into BOLETA (ID_BOLETA,ID_FUNCION,ID_SILLA,ID_CLIENTE) values ('30','20','35','1'); 
 
CREATE TABLE REQUERIMIENTOS( 
ID_REQ NUMBER, 
DESCRIPCION VARCHAR(255 BYTE), 
CONSTRAINTS ID_REQ_PK PRIMARY KEY (ID_REQ)); 
ALTER TABLE REQUERIMIENTOS MODIFY(DESCRIPCION CONSTRAINT DESCRIPCION_NN NOT NULL); 
CREATE TABLE SITIOREQUERIMIENTOS( 
ID_SITIO NUMBER,  
ID_REQUERIMIENTO NUMBER, 
CONSTRAINTS ID_SITIO_REQ_PK PRIMARY KEY (ID_SITIO, ID_REQUERIMIENTO), 
CONSTRAINTS FK_ID_SITIO_REQ FOREIGN KEY (ID_SITIO) REFERENCES SITIO(ID_SITIO), 
CONSTRAINTS FK_ID_REQ_REQ FOREIGN KEY (ID_REQUERIMIENTO) REFERENCES REQUERIMIENTOS(ID_REQ) 
); 
CREATE TABLE REQUERIMIENTOESPECTACULO 
(ID_ESPECTACULO NUMBER,  
ID_REQUERIMIENTO NUMBER, 
CONSTRAINTS ID_ESPEC_REQ_PK PRIMARY KEY (ID_ESPECTACULO, ID_REQUERIMIENTO), 
CONSTRAINTS FK_ID_REQUERIMIENTO FOREIGN KEY (ID_REQUERIMIENTO) REFERENCES REQUERIMIENTOS(ID_REQ), 
CONSTRAINTS FK_ID_ESPECTACULO FOREIGN KEY (ID_ESPECTACULO) REFERENCES ESPECTACULO(ID_ESPEC) 
); 
CREATE TABLE ESPECTACULOCATEGORIA 
( 
ID_ESPECTACULO NUMBER, 
ID_CATEGORIA NUMBER,  
CONSTRAINTS ID_ESPEC_CATE_PK PRIMARY KEY (ID_ESPECTACULO, ID_CATEGORIA), 
CONSTRAINTS FK_ID_ESPECTACULO_CAT FOREIGN KEY (ID_ESPECTACULO) REFERENCES ESPECTACULO(ID_ESPEC), 
CONSTRAINTS FK_ID_CATEGORIA_ESPC FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA(ID_CAT)); 
 
 
 
Tabla roles  
Insert into ROL (ID_ROL,NOMBRE_ROL) values ('1','Administrador');  
Insert into ROL (ID_ROL,NOMBRE_ROL) values ('2','Cliente');  
Insert into ROL (ID_ROL,NOMBRE_ROL) values ('3','Organizador');  
Insert into ROL (ID_ROL,NOMBRE_ROL) values ('4','Operario'); 
tabla usuario 
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('1','Juan Diego Gonzalez','jd.gonzalez@hotmail.com','1');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('2','Natalia Maya','n.maya@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('3','Camilo Montenegro','c.montenegro@hotmail.com','3');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('4','Carlos Penaloza','c.penaloza@hotmail.com','4');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('5','Laura Maya','l.maya@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('6','Juan Felipe Haya','jf.haya@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('7','Maria Lucia Pardo','ml.pardo@hotmail.com','3');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('8','Juan Diego Maya','jd.maya@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('9','Carlos Gonzalez','c.gonzalez@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('10','Laura Penaloza','l.penaloza@hotmail.com','2');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('11','Laura Montenegro','l.montenegro@hotmail.com','3');  
Insert into USUARIO (ID_USER,NOMBRE_USER,CORREO_USER,ROL_USER) values ('12','Laura Gonzalez','l.gonzalez@hotmail.com','3');  
registrar festival 
Insert into FESTIVAL(ID_FESTIVAL, FECHA_INICIAL_FESTIVAL, FECHA_FIN_FESTIVAL, ID_ADMINISTRADOR_FESTIVAL) 
VALUES ('1', '01/01/2016', '12/31/2018', '1'); 
Registrar compania  
Insert into COMPANIA (ID_COMPA,NOMBRE_COMPA,REPRESEN_COMPA,PAIS_ORIGEN_COMPA,PAG_WEB_COMPA,FECHA_LLEGADA_COMPA,FECHA_SALIDA_COMPA,ID_FESTIVAL,ID_ORGANI)    
values ('1','Compania 1','Persona 1','Francia','compania1.com','01/01/2017','05/06/2017','1','7');   
Insert into COMPANIA (ID_COMPA,NOMBRE_COMPA,REPRESEN_COMPA,PAIS_ORIGEN_COMPA,PAG_WEB_COMPA,FECHA_LLEGADA_COMPA,FECHA_SALIDA_COMPA,ID_FESTIVAL,ID_ORGANI)    
values ('2','Compania 2','Persona 2','Ecuador','compania2.com','04/02/2017','09/03/2017','1','3');   
Insert into COMPANIA (ID_COMPA,NOMBRE_COMPA,REPRESEN_COMPA,PAIS_ORIGEN_COMPA,PAG_WEB_COMPA,FECHA_LLEGADA_COMPA,FECHA_SALIDA_COMPA,ID_FESTIVAL,ID_ORGANI)    
values ('3','Compania 3','Persona 3','Peru','compania3.com','06/08/2017','09/10/2017','1','11');   
Insert into COMPANIA (ID_COMPA,NOMBRE_COMPA,REPRESEN_COMPA,PAIS_ORIGEN_COMPA,PAG_WEB_COMPA,FECHA_LLEGADA_COMPA,FECHA_SALIDA_COMPA,ID_FESTIVAL,ID_ORGANI)    
values ('4','Compania 4','Persona 4','Espana','compania4.com','01/06/2017','09/09/2017','1','12'); 
Registrar espectaculo  
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('1','Espectaculo 1','60','Español','330000','Espectaculo 1 de la compania 1','N','S','Mayores de 18','1','4');  
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('2','Espectaculo 2','180','Ingles','330000','Espectaculo 2 de la compania 1','S','N','Mayores de 18','1','4');  
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('3','Espectaculo 3','120','Español','330000','Espectaculo 3 de la compania 2','N','S','Mayores de 18','2','4'); 
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('4','Espectaculo 4','150','Frances','330000','Espectaculo 4 de la compania 2','S','S','Mayores de 18','2','4');  
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('5','Espectaculo 5','80','Español','330000','Espectaculo 5 de la compania 3','N','N','Mayores de 18','3','4'); 
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('6','Espectaculo 6','100','Ingles','330000','Espectaculo 6 de la compania 3','S','N','Mayores de 18','3','4'); 
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('7','Espectaculo 7','70','Español','330000','Espectaculo 7 de la compania 4','N','S','Mayores de 18','4','4'); 
Insert into ESPECTACULO (ID_ESPEC,NOMBRE,DURACION,IDIOMA,COSTO,DESCRIPCION,SERVICIO_TRADU,PARTICIPACION,PUBLICO_OBJETIVO,ID_COMPANIA,ID_OPERARIO) 
values('8','Espectaculo 8','110','Español','330000','Espectaculo 8 de la compania 4','N','S','Mayores de 18','4','4');  
  
Registrar sitio  
Insert into SITIO(ID_SITIO,TIPO,CAPACIDAD,HORARIO_DISPONIBILIDAD,PROTECCION_ATMOSFERICA)values ('1','A','200','Diurno','S');   
Insert into SITIO(ID_SITIO,TIPO,CAPACIDAD,HORARIO_DISPONIBILIDAD,PROTECCION_ATMOSFERICA)values ('2','C','50','Nocturno','N');   
insert into SITIO(ID_SITIO,TIPO,CAPACIDAD,HORARIO_DISPONIBILIDAD,PROTECCION_ATMOSFERICA)values ('3','A','100','Diurno','S');  
insert into SITIO(ID_SITIO,TIPO,CAPACIDAD,HORARIO_DISPONIBILIDAD,PROTECCION_ATMOSFERICA)values ('4','C','80','Diurno','N');  
registrar categoria 
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('1', 'Drama');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('2', 'Teatro');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('3', 'Mudo');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('4', 'Títeres');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('5', 'Comparsas');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('6', 'Ópera');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('7', 'Zarzuela');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('8', 'Musical');  
INSERT INTO CATEGORIA (ID_CAT, NOMBRE)VALUES('9', 'Circo');  
registrar espectaculocategoria 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('1','1'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('1','3'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('1','7'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('2','2'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('2','4'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('2','1'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('3','6'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('4','8'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('4','2'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('5','9'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('6','5'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('7','5'); 
INSERT INTO ESPECTACULOCATEGORIA(ID_ESPECTACULO, ID_CATEGORIA)VALUES('8','9'); 
REGISTRAR LOCALIDAD 
INSERT INTO LOCALIDAD(ID_LOCALIDAD,NOMBRE,CAPACIDAD)VALUES('1','VIP',20); 
INSERT INTO LOCALIDAD(ID_LOCALIDAD,NOMBRE,CAPACIDAD)VALUES('2','PLATINO',10); 
INSERT INTO LOCALIDAD(ID_LOCALIDAD,NOMBRE,CAPACIDAD)VALUES('3','PALCO',5); 
INSERT INTO LOCALIDAD(ID_LOCALIDAD,NOMBRE,CAPACIDAD)VALUES('4','DIAMANTE',12); 
REGISTRAR REQUERIMIENTO 
INSERT INTO REQUERIMIENTOS(ID_REQ, DESCRIPCION)VALUES('1', 'Luces grandes'); 
INSERT INTO REQUERIMIENTOS(ID_REQ, DESCRIPCION)VALUES('2', 'Techo para la lluvia'); 
INSERT INTO REQUERIMIENTOS(ID_REQ, DESCRIPCION)VALUES('3', 'Pantalla de video'); 
INSERT INTO REQUERIMIENTOS(ID_REQ, DESCRIPCION)VALUES('4', 'Sistema de pantallas para los actores'); 
INSERT INTO REQUERIMIENTOS(ID_REQ, DESCRIPCION)VALUES(5, 'Camerinos para los actores'); 
Registra requerimientoespectaculo 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(1, 1); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(1, 2); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(1, 3); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(1, 4); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(1, 5); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(2, 1); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(2, 3); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(2, 5); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(3, 2); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(3, 4); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(4, 1); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(5, 2); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(5, 3); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(5, 5); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(6, 1); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(7, 2); 
insert into requerimientoespectaculo(ID_ESPECTACULO, ID_REQUERIMIENTO)VALUES(8, 4); 
Registra sitioRequerimientos 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(1,1); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(1,3); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(1,5); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(2,1); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(2,4); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(3,2); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(3,3); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(3,1); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(3,4); 
Insert into sitiorequerimientos(ID_SITIO, ID_REQUERIMIENTO)VALUES(4,1); 
 
Progrmar funcion 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('1','04/05/2017','1','1','1200') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('2','10/03/2017','4','2','1600') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('3','04/20/2017','2','3','1000') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('4','04/15/2017','1','4','2000') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('5','06/16/2017','3','5','1800') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('6','08/18/2017','1','6','1300') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('7','03/05/2017','3','7','1700') 
INSERT INTO FUNCION(ID_FUNCION,FECHA,ID_SITIO,ID_ESPECTACULO,HORA)VALUES('8','02/10/2017','2','8','1230') 
 
Preferencia  
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('1','Genero','Drama') 
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('2','Sitio','Abierto') 
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('3','Edad','Mayor de 18') 
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('4','Genero','Teatro') 
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('5','Sitio','Cerrado') 
INSERT INTO PREFERENCIA(ID_PREFERENCIA,TIPO_PREFERENCIA,DESCRIPCION)VALUES('1','Edad','Menores de edad') 
 
Bono Para festivAndes 
with tabla1 as(select totalClientes, totalBoletas, fecha, id_sitio, tipo, totalClientes/capacidad, id_espectaculo, sum(precio)as totalBoleta from  
(select count(id_cliente)as totalClientes, count(id_cliente)as totalBoletas,id_funcion, fecha, id_espectaculo from funcion natural join boleta where fecha between '01/20/2017' and '10/20/2017' group by id_funcion, fecha, id_espectaculo)  
natural join (select precio, sitio.capacidad, tipo, sitio.id_sitio from sitio inner join localidad on sitio.ID_SITIO = localidad.ID_SITIO) group by totalClientes, totalBoletas, fecha, id_sitio, tipo,  
totalClientes/capacidad, id_espectaculo), 
tabla2 as( 
select id_espectaculo, id_cat from(select * from categoria inner join ESPECTACULOCATEGORIA on id_cat = id_categoria) 
inner join espectaculo on id_espec = id_espectaculo) 
select * from tabla1 natural join tabla2 order by totalBoleta desc; 
 
Bono 2  
with tabla1 as (select count(id_Cliente) as asistentes, id_funcion, funcion.ID_ESPECTACULO as id_espec, fecha from boleta  
natural join  
funcion where fecha between '01/20/2017' and '10/20/2017'  
group by id_funcion, funcion.ID_ESPECTACULO, fecha) 
select sum(asistentes) as asistentes_funciones, id_espec, nombre, duracion, idioma, costo, descripcion, servicio_tradu, participacion, 
id_compania, id_operario from tabla1 natural join espectaculo group by id_espec, nombre, duracion, idioma, costo,  
descripcion, servicio_tradu, participacion,id_compania,id_operario 